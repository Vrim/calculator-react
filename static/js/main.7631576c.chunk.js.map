{"version":3,"sources":["index.js"],"names":["Calculator","props","state","value","buttons","Button","id","className","this","map","btn","render","operation","new_val","Equation","toString","evaluate","setState","eq","React","Component","content","replace","equations","isNaN","parseInt","includes","UnevenBracketError","eval_brackets","split","i","length","c","openbr","closebr","index_of_end","start","indexOf","left_side","slice","right_side","end_l","start_r","new_c","delim","push","name","Error","parent","handleClick","e","onClick","target","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.7631576c.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nclass Calculator extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: ' '\n        };\n        this.buttons = [\n            new Button({id: 'C'}, this),\n            new Button({id: '0' }, this),\n            new Button({id: '1' }, this),\n            new Button({id: '2' }, this),\n            new Button({id: '3' }, this),\n            new Button({id: '4' }, this),\n            new Button({id: '5' }, this),\n            new Button({id: '6' }, this),\n            new Button({id: '7' }, this),\n            new Button({id: '8' }, this),\n            new Button({id: '9' }, this),\n            new Button({id: '+' }, this),\n            new Button({id: '-' }, this),\n            new Button({id: '/' }, this),\n            new Button({id: '*' }, this),\n            new Button({id: '^' }, this),\n            new Button({id: '%' }, this),\n            new Button({id: '=' }, this),\n            new Button({id: '.' }, this),\n            new Button({id: '(' }, this),\n            new Button({id: ')' }, this)\n        ];\n    };\n\n    render() {\n        return (\n            <div id=\"calculator\">\n                <div className=\"display\">\n                    {this.state.value}\n                </div>\n                <div className=\"btns\">\n                    {this.buttons.map(btn => btn.render())}\n                </div>\n            </div>\n        );\n    };\n    \n    onClick(operation) {\n        var new_val;\n        if (operation == 'C') {\n            new_val = ' ';\n        } else if (operation == \"=\") {\n            new_val = new Equation(this.state.value.toString()).evaluate().toString();\n        } else {\n            new_val = this.state.value += operation.toString()\n            this.setState({value: new_val});\n        };\n        this.setState({value: new_val});\n    };\n\n    evaluate(eq) {\n        return new Equation(eq).evaluate()\n    };\n}\n\nclass Equation {\n    constructor(content) {\n        this.content = content.replace(\" \", \"\");\n    };\n\n    evaluate() {\n        var value;\n        var equations;\n        if (!isNaN(this.content)) {\n            return parseInt(this.content);\n        } else if (this.content == '') {\n            return ' ';\n        } else if (this.content.includes('(')) {\n            if (!this.content.includes(')')) {\n                throw UnevenBracketError;\n            };\n            return this.eval_brackets().evaluate();\n        } else if (this.content.includes(')')) {\n            if (!this.content.includes('(')) {\n                throw UnevenBracketError;\n            };\n            return this.eval_brackets().evaluate();\n        } else if (this.content.includes('^')) {\n            equations = this.split(\"^\");\n            value = equations[0].evaluate();\n            for (var i = 1; i < equations.length; i++) {\n                value **= equations[i].evaluate();\n            }\n        } else if (this.content.includes('+')) {\n            equations = this.split(\"+\");\n            value = equations[0].evaluate();\n            for (var i = 1; i < equations.length; i++) {\n                value += equations[i].evaluate()\n            }\n        } else if (this.content.includes('-')) {\n            equations = this.split(\"-\");\n            value = equations[0].evaluate();\n            for (var i = 1; i < equations.length; i++) {\n                value -= equations[i].evaluate()\n            }\n        } else if (this.content.includes('*')) {\n            equations = this.split(\"*\");\n            value = equations[0].evaluate();\n            for (var i = 1; i < equations.length; i++) {\n                value *= equations[i].evaluate()\n            }\n        } else if (this.content.includes('/')) {\n            equations = this.split(\"/\");\n            value = equations[0].evaluate();\n            for (var i = 1; i < equations.length; i++) {\n                value /= equations[i].evaluate()\n            }\n        } else if (this.content.includes('%')) {\n            equations = this.split(\"%\");\n            value = equations[0].evaluate();\n            for (var i = 1; i < equations.length; i++) {\n                value %= equations[i].evaluate()\n            }\n        };\n        return value;\n    };\n\n    eval_brackets() {\n        var c = this.content;\n        var openbr = 1;\n        var closebr = 0;\n        var index_of_end = -1;\n        var start = c.indexOf('(');\n        for (var i = start + 1; i < c.length; i++) {\n            if (c[i] == ')') {\n                closebr += 1;\n            } else if (c[i] == '(') {\n                openbr += 1;\n            };\n            if (openbr == closebr) {\n                index_of_end = i;\n                break;\n            };\n        };\n        var left_side = c.slice(0, start);\n        var right_side = c.slice(index_of_end + 1);\n\n        // Check if there is an operator beside the bracket, else, multiply\n        if (left_side.length > 0) {\n            var end_l = left_side[-1];\n            if (!\"*/+-^%([\".includes(end_l)) {\n                left_side += '*';\n            };\n        };\n        if (right_side.length > 0) {\n            var start_r = right_side[0];\n            if (!\"*/+-^%([\".includes(start_r)) {\n                right_side = '*' + right_side;\n            };\n        };\n\n        var new_c = left_side + (new Equation(c.slice(start + 1, index_of_end))).evaluate() + right_side;\n        return new Equation(new_c);\n    };\n    \n    split(delim) {\n        var c = this.content.split(delim);\n        var eq = [];\n        for (var i = 0; i < c.length; i++) {\n            eq.push(new Equation(c[i]));\n        };\n        return eq;\n    };\n}\n\nclass UnevenBracketError extends Error {\n    constructor() {\n        super(\"Missing a bracket\");\n        this.name = \"UnevenBracketError\";\n    }\n}\n\nclass Button extends React.Component {\n    constructor(props, parent) {\n        super(props);\n        this.parent = parent;\n    };\n\n    render() {\n        return (\n            <button className=\"btn\" id={this.props.id} onClick={this.handleClick}>\n                {this.props.id}\n            </button>\n        );\n    };\n    handleClick = e => {\n        this.parent.onClick(e.target.id);\n        this.setState();\n    };\n}\n\n// ======== Render =========\nReactDOM.render(\n    <Calculator />,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}